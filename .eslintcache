[{"E:\\react\\whatsapp\\src\\component\\SidebarChat.js":"1","E:\\react\\whatsapp\\src\\Page\\Whatsapp.js":"2","E:\\react\\whatsapp\\src\\component\\Sidebar.js":"3","E:\\react\\whatsapp\\src\\component\\firebase.js":"4","E:\\react\\whatsapp\\src\\component\\Chat.js":"5","E:\\react\\whatsapp\\src\\index.js":"6","E:\\react\\whatsapp\\src\\Page\\Login.js":"7"},{"size":1058,"mtime":1606443534998,"results":"8","hashOfConfig":"9"},{"size":1356,"mtime":1606829520128,"results":"10","hashOfConfig":"9"},{"size":2071,"mtime":1606410681765,"results":"11","hashOfConfig":"9"},{"size":597,"mtime":1606399551483,"results":"12","hashOfConfig":"9"},{"size":2753,"mtime":1606546341631,"results":"13","hashOfConfig":"9"},{"size":689,"mtime":1606408458802,"results":"14","hashOfConfig":"9"},{"size":1411,"mtime":1606442726639,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1mjgt7g",{"filePath":"18","messages":"19","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\react\\whatsapp\\src\\component\\SidebarChat.js",[],"E:\\react\\whatsapp\\src\\Page\\Whatsapp.js",["33","34"],"E:\\react\\whatsapp\\src\\component\\Sidebar.js",["35"],"import { Avatar, IconButton } from \"@material-ui/core\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport \"./Sidebar.css\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport SidebarChat from \"./SidebarChat\";\r\nimport {db} from './firebase';\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from 'firebase';\r\nfunction Sidebar() {\r\n  const [{user},dispatch] = useStateValue();\r\n  const [groups, setGroups] = useState([]);\r\n  useEffect(() =>{\r\n    db.collection('rooms').onSnapshot(snapshot => (\r\n      setGroups(snapshot.docs.map(doc =>\r\n        ({\r\n          id: doc.id,\r\n          data: doc.data()\r\n      })\r\n      ))\r\n    ))\r\n  },[]);\r\n  const logout = () =>{\r\n    if(user)\r\n    {\r\n      firebase.auth().signOut();\r\n    }\r\n  }\r\n  console.log(groups);\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar_header\">\r\n        {user?(\r\n          <Link to=\"/\">\r\n          <Avatar src={user.photoURL} onClick = {logout}/>\r\n          </Link>\r\n        ):(\r\n          <Avatar/>\r\n        )}\r\n        <div className=\"sidebar_headerRight\">\r\n          <IconButton>\r\n            <DonutLargeIcon />\r\n          </IconButton>\r\n          <IconButton>\r\n            <ChatIcon />\r\n          </IconButton>\r\n          <IconButton>\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className=\"sidebar_search\">\r\n         <div className=\"sidebar_search_container\">\r\n         <Search/>\r\n          <input type=\"text\" placeholder=\"Search for a chat here\"/>\r\n         </div>\r\n      </div>\r\n      <div className=\"sidebar_chats\">\r\n          <SidebarChat createNewChat/>\r\n          {\r\n            groups.map(group => (\r\n              <SidebarChat key = {group.id} id = {group.id} name={group.data.name}/>\r\n            ))\r\n          }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n",["36","37"],"E:\\react\\whatsapp\\src\\component\\firebase.js",[],"E:\\react\\whatsapp\\src\\component\\Chat.js",["38"],"import { Avatar, Button } from \"@material-ui/core\";\r\nimport { Call, Mic, MoreVert, Search } from \"@material-ui/icons\";\r\nimport LinkIcon from \"@material-ui/icons/Link\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport \"./Chat.css\";\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { db } from \"./firebase\";\r\nimport firebase from 'firebase';\r\nimport { useStateValue } from \"../StateProvider\";\r\nfunction Chat() {\r\n  const [input, setInput] = useState('');\r\n  const { grpid } = useParams();\r\n  const [groupName, setGroupName] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [{user}, dispatch] = useStateValue();\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    console.log(input);\r\n    db.collection('rooms').doc(grpid).collection('messages').add({\r\n      message: input,\r\n      name: user.displayName,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n    })\r\n    setInput(\"\");\r\n  }\r\n  useEffect(() => {\r\n    if(grpid){\r\n      db.collection('rooms').doc(grpid).onSnapshot(snapshot => (\r\n        setGroupName(snapshot.data().name)\r\n      ))\r\n      db.collection('rooms').doc(grpid).collection('messages').orderBy('timestamp','asc').onSnapshot(snapshot => (\r\n        setMessages(snapshot.docs.map(doc=> doc.data()))\r\n      ))\r\n    }\r\n\r\n  }, [grpid])\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chatheader\">\r\n        <div className=\"chatheader_left\">\r\n          <Avatar />\r\n          <div className=\"chatheader_left_details\">\r\n            <h3>{groupName}</h3>\r\n            <p><span>Last seen at: </span>{messages[messages.length-1]?.timestamp?.toDate().toLocaleTimeString()}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"chatheader_right\">\r\n          <Search />\r\n          <Call />\r\n          <LinkIcon />\r\n          <MoreVert />\r\n        </div>\r\n      </div>\r\n      <div className=\"chatbody\">\r\n        {messages.map((message)=>(\r\n            <p className={`chat_message ${message.name===user.displayName && 'chat_reciever'}`}> <span className=\"chat_name\">{message.name}</span>{message.message}<span className=\"chat_time\">{new Date(message.timestamp?.toDate()).toLocaleTimeString()}</span></p>\r\n        ))}\r\n      </div>\r\n      <div className=\"chatfooter\">\r\n        <InsertEmoticonIcon/>\r\n        <form className=\"input_message\">\r\n            <input type=\"text\" value={input} onChange = {e => setInput(e.target.value)} placeholder=\"Type your message here\"/>\r\n            <Mic/>\r\n            <Button type=\"submit\" onClick={sendMessage}><SendIcon/></Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","E:\\react\\whatsapp\\src\\index.js",[],"E:\\react\\whatsapp\\src\\Page\\Login.js",["39","40","41","42","43","44","45"],{"ruleId":"46","severity":1,"message":"47","line":11,"column":9,"nodeType":"48","messageId":"49","endLine":11,"endColumn":13},{"ruleId":"50","severity":1,"message":"51","line":28,"column":5,"nodeType":"52","endLine":28,"endColumn":7,"suggestions":"53"},{"ruleId":"46","severity":1,"message":"54","line":14,"column":17,"nodeType":"48","messageId":"49","endLine":14,"endColumn":25},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"46","severity":1,"message":"54","line":17,"column":18,"nodeType":"48","messageId":"49","endLine":17,"endColumn":26},{"ruleId":"46","severity":1,"message":"59","line":2,"column":17,"nodeType":"48","messageId":"49","endLine":2,"endColumn":25},{"ruleId":"46","severity":1,"message":"60","line":14,"column":13,"nodeType":"48","messageId":"49","endLine":14,"endColumn":18},{"ruleId":"46","severity":1,"message":"61","line":16,"column":13,"nodeType":"48","messageId":"49","endLine":16,"endColumn":17},{"ruleId":"46","severity":1,"message":"62","line":21,"column":13,"nodeType":"48","messageId":"49","endLine":21,"endColumn":22},{"ruleId":"46","severity":1,"message":"63","line":22,"column":13,"nodeType":"48","messageId":"49","endLine":22,"endColumn":25},{"ruleId":"46","severity":1,"message":"64","line":24,"column":13,"nodeType":"48","messageId":"49","endLine":24,"endColumn":18},{"ruleId":"46","severity":1,"message":"65","line":26,"column":13,"nodeType":"48","messageId":"49","endLine":26,"endColumn":23},"no-unused-vars","'logo' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["66"],"'dispatch' is assigned a value but never used.","no-native-reassign",["67"],"no-negated-in-lhs",["68"],"'useState' is defined but never used.","'token' is assigned a value but never used.","'user' is assigned a value but never used.","'errorCode' is assigned a value but never used.","'errorMessage' is assigned a value but never used.","'email' is assigned a value but never used.","'credential' is assigned a value but never used.",{"desc":"69","fix":"70"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"71","text":"72"},[803,805],"[dispatch]"]